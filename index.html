<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>S77 – Control de Gastos</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#111;
    color:#fff;
    text-align:center;
    padding:20px;
}

.contenedor{
    background:#222;
    padding:20px;
    border-radius:10px;
    max-width:360px;
    margin:auto;
}

input{
    width:100%;
    padding:10px;
    margin:8px 0;
    font-size:20px;
    text-align:center;
    border-radius:6px;
    border:none;
}

button{
    width:100%;
    padding:12px;
    font-size:18px;
    border:none;
    border-radius:6px;
    background:#800020;
    color:#fff;
    font-weight:bold;
    cursor:pointer;
}

.resultado{
    margin-top:15px;
    font-size:22px;
    padding:10px;
    background:#000;
    border-radius:6px;
}
</style>
</head>

<body>

<h2>Sistema S77</h2>

<div class="contenedor">

    <label>Nuevo número</label>
    <input type="number" id="nuevoNumero">

    <button onclick="agregarNumero()">AGREGAR</button>

    <div class="resultado">TOTAL: <span id="total">0</span></div>
    <div class="resultado">GASTOS: <span id="gastos">0</span></div>
    <div class="resultado">DIFERENCIA: <span id="diferencia">0</span></div>

    <button onclick="cerrarLote()">CERRAR LOTE</button>

</div>

<script>
let total = 0;
let gastos = 0;
let diferencia = 0;
let loteActivo = false;

function agregarNumero(){
    const valor = Number(document.getElementById("nuevoNumero").value);
    if(valor === 0) return;

    // inicia lote si no hay uno activo
    if(!loteActivo){
        loteActivo = true;
        total = 0;
    }

    total += valor;
    gastos += valor; // GASTOS acumula TOTAL en tiempo real

    document.getElementById("total").innerText = total;
    document.getElementById("gastos").innerText = gastos;

    document.getElementById("nuevoNumero").value = "";
}

function cerrarLote(){
    if(!loteActivo) return;

    diferencia += 1; // cada lote completo vale 1
    document.getElementById("diferencia").innerText = diferencia;

    total = 0;
    document.getElementById("total").innerText = total;

    loteActivo = false;
}
</script>

</body>
  </html>
  
